/*!
    ko-formatter - knockout input auto formatter
    Author: Matthew Nitschke
    License: MIT (http://www.opensource.org/licenses/mit-license.php)
    Version: 1.0.0
*/
!function(t,r){ko.bindingHandlers.formatter={init:function(t,r,e,n,a){var o,i=e();i.textInput?o=i.textInput:i.value&&(o=i.value);var c=i.formatter,f=function(){ko.bindingHandlers.formatter.format(t,o,c)};o.subscribe(f),f()},format:function(t,r,e){function n(t,r){if(e.patternCharacters){var n=new RegExp("["+e.patternCharacters+"]","gi"),a=t.substring(0,r).match(n);return a?a.length:0}return 0}var a=ko.unwrap(r),o=t.selectionStart;if(a||e.allowNull){a.length>e.lengthLimit&&(a=a.substring(0,e.lengthLimit));var i=n(a,o);null!=e.preformatter&&(a=e.preformatter(a)),e.formatterFunction&&(a=e.formatterFunction(a));o+=n(a,o)-i}r(a),function(t,r){if(t.setSelectionRange)t.focus(),t.setSelectionRange(r,r);else if(t.createTextRange){var e=t.createTextRange();e.collapse(!0),e.moveEnd("character",r),e.moveStart("character",r),e.select()}}(t,o)}},ko.formatter={money:{formatterFunction:function(t){return t=t.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),t="$"+t},patternCharacters:"$,",allowNull:!1,preformatter:function(t){return t.replace(/[^0-9.]/g,"")}},state:{formatterFunction:function(t){return t.toUpperCase()},lengthLimit:2,preforatter:n},date:{formatterFunction:function(t,r){for(var e="",n=0;n<t.length;n++)2!=n&&4!=n||(e+="/",r.inc(n)),e+=t.charAt(n);return e},patternCharacters:"/",lengthLimit:10,preformatter:e},zip:{lengthLimit:5,preformatter:n},ssn:{formatterFunction:function(t){for(var r="",e=0;e<t.length;e++)4!=e&&6!=e||(r+="-"),r+=t.charAt(e);return r},patternCharacters:"-",lengthLimit:12,preformatter:e},phone:{formatterFunction:function(t){for(var r="",e=0;e<t.length;e++)3!=e&&6!=e||(r+="-"),r+=t.charAt(e);return r},patternCharacters:"-",lengthLimit:12,preformatter:e},phoneNoAreaCode:{formatterFunction:function(t){for(var r="",e=0;e<t.length;e++)3==e&&(r+="-"),r+=t.charAt(e);return r},patternCharacters:"-",lengthLimit:8,preformatter:e},numbers:{preformatter:e},characters:{preformatter:n},capitalize:{formatterFunction:function(t){return t=t.replace(/\b(\w)/g,function(t){return t.toUpperCase()})}},creditCardNumber:{formatterFunction:function(t){for(var r="",e=0;e<t.length;e++)4!=e&&8!=e&&12!=e&&16!=e||(r+=" "),r+=t.charAt(e);return r},patternCharacters:" ",lengthLimit:19,preformatter:e},creditCardCVC:{preformatter:e,lengthLimit:3},creditCardDate:{formatterFunction:function(t){for(var r="",e=0;e<t.length;e++)3==e&&(r+="/"),r+=t.charAt(e)},patternCharacters:"/",lengthLimit:5,preformatter:e},bankRoutingNumber:{preformatter:e,lengthLimit:9},bankAccountNumber:{preformatter:e,lengthLimit:17},oneWord:{formatterFunction:function(t){return t=t.match(/(.)[^ ]*/),t?t[0]:""}}};var e=function(t){return t.replace(/\D+/g,"")},n=function(t){return t.replace(/[^a-z]/gi,"")}}();